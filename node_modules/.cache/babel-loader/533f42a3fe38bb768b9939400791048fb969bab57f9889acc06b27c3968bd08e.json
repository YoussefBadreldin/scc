{"ast":null,"code":"import HeaderComponent from '../../public/global/headerComponent.vue';\nimport FooterComponent from '../../public/global/footerComponent.vue';\nexport default {\n  name: 'FindCommittee',\n  components: {\n    HeaderComponent,\n    FooterComponent\n  },\n  data() {\n    return {\n      universityNumber: '',\n      findplace: null,\n      errorMessage: '',\n      committees: []\n    };\n  },\n  methods: {\n    async findCommittee() {\n      this.errorMessage = '';\n\n      // Fetch student data from an API\n      const studentData = await this.fetchStudentData(this.universityNumber);\n      if (!studentData) {\n        this.errorMessage = 'الرقم الذي أدخلته غير صحيح، يرجى التحقق منه';\n        return;\n      }\n      this.findplace = studentData;\n      this.committees = await this.fetchCommitteesByLevel(studentData.student_level);\n    },\n    async fetchStudentData(universityNumber) {\n      const response = await fetch(`https://aiusu-backend.vercel.app/students/${universityNumber}`);\n      if (!response.ok) return null;\n      return await response.json();\n    },\n    async fetchCommitteesByLevel(level) {\n      const committeeURLs = ['https://aiusu-backend.vercel.app/clubs', 'https://aiusu-backend.vercel.app/sports', 'https://aiusu-backend.vercel.app/cultural', 'https://aiusu-backend.vercel.app/social', 'https://aiusu-backend.vercel.app/scout', 'https://aiusu-backend.vercel.app/scientific', 'https://aiusu-backend.vercel.app/arts'];\n      const committeePromises = committeeURLs.map(async url => {\n        const response = await fetch(url);\n        if (!response.ok) return null;\n        const candidates = await response.json();\n\n        // Filter candidates by level\n        const filteredCandidates = candidates.filter(candidate => candidate.candidate_level === level);\n        return {\n          name: url.split('/').pop(),\n          candidates: filteredCandidates\n        };\n      });\n      const committees = await Promise.all(committeePromises);\n      // Remove null results and return the committees with candidates\n      return committees.filter(committee => committee && committee.candidates.length > 0);\n    }\n  }\n};","map":{"version":3,"names":["HeaderComponent","FooterComponent","name","components","data","universityNumber","findplace","errorMessage","committees","methods","findCommittee","studentData","fetchStudentData","fetchCommitteesByLevel","student_level","response","fetch","ok","json","level","committeeURLs","committeePromises","map","url","candidates","filteredCandidates","filter","candidate","candidate_level","split","pop","Promise","all","committee","length"],"sources":["C:\\Users\\Youssef Badreldin\\Documents\\GitHub\\AIUSU\\src\\views\\elections.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <HeaderComponent />\r\n        <div class=\"container\">\r\n            <h2 class=\"text-center my-4\">ابحث عن لجنتك الانتخابية</h2>\r\n            <form @submit.prevent=\"findCommittee\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"universityNumber\" class=\"form-label\"><strong>:رقمك الجامعي</strong></label>\r\n                    <input type=\"text\" v-model=\"universityNumber\" class=\"form-control\" id=\"universityNumber\" required />\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-primary\">إبحث</button>\r\n            </form>\r\n            <div v-if=\"errorMessage\" class=\"alert alert-danger mt-4\">{{ errorMessage }}</div> <!-- Error message -->\r\n            <div v-if=\"findplace\" class=\"mt-4\">\r\n                <h4><strong>معلومات لجنتك</strong></h4>\r\n                <p><strong>الاسم:</strong> {{ findplace.student_name }}</p>\r\n                <p><strong>الكلية:</strong> {{ findplace.student_faculty }}</p>\r\n                <p><strong>الرقم الجامعي:</strong> {{ findplace.student_number }}</p>\r\n                <p><strong>المستوى:</strong> {{ findplace.student_level }}</p>\r\n                <p>{{ findplace.student_location }} <strong> :مكان اللجنة</strong></p>\r\n\r\n                <br>\r\n                <h4><strong>المرشحون الذين لك الحق في انتخابهم</strong></h4>\r\n\r\n                <!-- Container for each committee -->\r\n                <div v-for=\"(committee, index) in committees\" :key=\"index\" class=\"committee-container mb-4\">\r\n                    <h6>{{ committee.name }}</h6>\r\n                    <ul>\r\n                        <li v-for=\"candidate in committee.candidates\" :key=\"candidate.id\" class=\"candidate-item\">\r\n                            <div class=\"candidate-photo\">\r\n                                <img :src=\"candidate.photo\" alt=\"مرشح\" />\r\n                            </div>\r\n                            <div class=\"candidate-details\">\r\n                                <span class=\"candidate-name\">{{ candidate.candidate_name }}</span>\r\n                                <span class=\"candidate-faculty\">{{ candidate.candidate_faculty }}</span>\r\n                                <span class=\"candidate-level\">{{ candidate.candidate_level }}</span> <!-- Add candidate level if needed -->\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <!-- Election Guidelines Section -->\r\n                <div class=\"election-guidelines mt-4\">\r\n                    <h4><strong>إرشادات هامة</strong></h4>\r\n                    <div class=\"video-container mt-4\">\r\n                        <iframe width=\"350\" height=\"180\" src=\"https://www.youtube.com/embed/87vnQi8zsiQ?si=IzZF8lzwKqUViH7e\" frameborder=\"0\" allowfullscreen></iframe>\r\n                    </div>\r\n                    <br>\r\n                    <h5> :نظام الانتخابات</h5>\r\n                    <ul>\r\n                        <li>(اي 2 في كل لجنة) ستقوم بانتخاب 14 عضوًا لسبع لجان</li>\r\n                    </ul>\r\n                    <h5> :خطوات التصويت</h5>\r\n                    <ol>\r\n                        <li>قم بالتوقيع في كشف الحضور قبل أن تبدأ بالتصويت</li>\r\n                        <br>\r\n                        <li>ستتلقى ورقة انتخابية مخصصة لك</li>\r\n                        <br>\r\n                        <li>اكتب أسماء 14 مرشحًا، بحيث يكون لكل اثنين في لجنة </li>\r\n                        <br>\r\n                        <li>تأكد من كتابة 14 اسمًا، لأن أي ورقة تحتوي على أقل او أكثر من 14 اسمًا أو اي علامات ستعتبر باطلة</li>\r\n                    </ol>\r\n                    <h5> :ملاحظات هامة</h5>\r\n                    <ul>\r\n                        <li>يمكنك انتخاب المرشحين المذكورين في القائمة اعلاه فقط، ولا يمكنك انتخاب طلاب اخرين</li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <FooterComponent />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport HeaderComponent from '../../public/global/headerComponent.vue';\r\nimport FooterComponent from '../../public/global/footerComponent.vue';\r\n\r\nexport default {\r\n    name: 'FindCommittee',\r\n    components: {\r\n        HeaderComponent,\r\n        FooterComponent,\r\n    },\r\n    data() {\r\n        return {\r\n            universityNumber: '',\r\n            findplace: null,\r\n            errorMessage: '',\r\n            committees: [],\r\n        };\r\n    },\r\n    methods: {\r\n        async findCommittee() {\r\n            this.errorMessage = '';\r\n\r\n            // Fetch student data from an API\r\n            const studentData = await this.fetchStudentData(this.universityNumber);\r\n\r\n            if (!studentData) {\r\n                this.errorMessage = 'الرقم الذي أدخلته غير صحيح، يرجى التحقق منه';\r\n                return;\r\n            }\r\n\r\n            this.findplace = studentData;\r\n            this.committees = await this.fetchCommitteesByLevel(studentData.student_level);\r\n        },\r\n\r\n        async fetchStudentData(universityNumber) {\r\n            const response = await fetch(`https://aiusu-backend.vercel.app/students/${universityNumber}`);\r\n            if (!response.ok) return null;\r\n            return await response.json();\r\n        },\r\n\r\n        async fetchCommitteesByLevel(level) {\r\n            const committeeURLs = [\r\n                'https://aiusu-backend.vercel.app/clubs',\r\n                'https://aiusu-backend.vercel.app/sports',\r\n                'https://aiusu-backend.vercel.app/cultural',\r\n                'https://aiusu-backend.vercel.app/social',\r\n                'https://aiusu-backend.vercel.app/scout',\r\n                'https://aiusu-backend.vercel.app/scientific',\r\n                'https://aiusu-backend.vercel.app/arts',\r\n            ];\r\n\r\n            const committeePromises = committeeURLs.map(async (url) => {\r\n                const response = await fetch(url);\r\n                if (!response.ok) return null;\r\n                const candidates = await response.json();\r\n\r\n                // Filter candidates by level\r\n                const filteredCandidates = candidates.filter(candidate => candidate.candidate_level === level);\r\n\r\n                return { name: url.split('/').pop(), candidates: filteredCandidates };\r\n            });\r\n\r\n            const committees = await Promise.all(committeePromises);\r\n            // Remove null results and return the committees with candidates\r\n            return committees.filter(committee => committee && committee.candidates.length > 0);\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n    padding: 20px;\r\n}\r\n.committee-container {\r\n    border: 1px solid #ddd;\r\n    padding: 15px;\r\n    border-radius: 8px;\r\n}\r\n.committee-container h6 {\r\n    margin-bottom: 10px;\r\n    font-size: 1.5em; /* Larger font size for committee name */\r\n    font-weight: bold; /* Bold the committee name */\r\n}\r\n.committee-container ul {\r\n    list-style: none;\r\n    padding-left: 0;\r\n    display: flex; /* Use flexbox for the list */\r\n    flex-wrap: wrap; /* Allow wrapping to the next line if needed */\r\n    justify-content: space-between; /* Space out items evenly */\r\n}\r\n.candidate-item {\r\n    display: flex;\r\n    flex-direction: column; /* Stack the elements vertically */\r\n    align-items: center; /* Center align items */\r\n    margin: 15px; /* Space between candidates */\r\n    flex: 0 1 calc(33.333% - 30px); /* Allow a maximum of 3 items per row */\r\n    box-sizing: border-box; /* Ensure padding and margin are included in width */\r\n}\r\n.candidate-photo img {\r\n    width: 70px; /* Adjust width as needed */\r\n    height: auto; /* Maintain aspect ratio */\r\n    border-radius: 50%; /* Optional: make photo circular */\r\n}\r\n.candidate-name {\r\n    font-weight: bold; /* Bold text for name */\r\n    margin-top: 5px; /* Space between photo and name */\r\n    font-size: 1em; /* Default font size for candidate name */\r\n}\r\n.candidate-faculty {\r\n    color: #555; /* Optional: different color for faculty */\r\n    margin-top: 2px; /* Space between name and faculty */\r\n    display: block; /* Ensure faculty is on a new line */\r\n    font-size: 0.9em; /* Slightly smaller font size for faculty */\r\n}\r\n.alert {\r\n    margin-top: 20px; /* Margin for alert message */\r\n}\r\n.video-container {\r\n    margin-top: 20px; /* Margin for video container */\r\n}\r\n</style>\r\n"],"mappings":"AA0EA,OAAOA,eAAc,MAAO,yCAAyC;AACrE,OAAOC,eAAc,MAAO,yCAAyC;AAErE,eAAe;EACXC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IACRH,eAAe;IACfC;EACJ,CAAC;EACDG,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,gBAAgB,EAAE,EAAE;MACpBC,SAAS,EAAE,IAAI;MACfC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE;IAChB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,aAAaA,CAAA,EAAG;MAClB,IAAI,CAACH,YAAW,GAAI,EAAE;;MAEtB;MACA,MAAMI,WAAU,GAAI,MAAM,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAACP,gBAAgB,CAAC;MAEtE,IAAI,CAACM,WAAW,EAAE;QACd,IAAI,CAACJ,YAAW,GAAI,6CAA6C;QACjE;MACJ;MAEA,IAAI,CAACD,SAAQ,GAAIK,WAAW;MAC5B,IAAI,CAACH,UAAS,GAAI,MAAM,IAAI,CAACK,sBAAsB,CAACF,WAAW,CAACG,aAAa,CAAC;IAClF,CAAC;IAED,MAAMF,gBAAgBA,CAACP,gBAAgB,EAAE;MACrC,MAAMU,QAAO,GAAI,MAAMC,KAAK,CAAC,6CAA6CX,gBAAgB,EAAE,CAAC;MAC7F,IAAI,CAACU,QAAQ,CAACE,EAAE,EAAE,OAAO,IAAI;MAC7B,OAAO,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,MAAML,sBAAsBA,CAACM,KAAK,EAAE;MAChC,MAAMC,aAAY,GAAI,CAClB,wCAAwC,EACxC,yCAAyC,EACzC,2CAA2C,EAC3C,yCAAyC,EACzC,wCAAwC,EACxC,6CAA6C,EAC7C,uCAAuC,CAC1C;MAED,MAAMC,iBAAgB,GAAID,aAAa,CAACE,GAAG,CAAC,MAAOC,GAAG,IAAK;QACvD,MAAMR,QAAO,GAAI,MAAMC,KAAK,CAACO,GAAG,CAAC;QACjC,IAAI,CAACR,QAAQ,CAACE,EAAE,EAAE,OAAO,IAAI;QAC7B,MAAMO,UAAS,GAAI,MAAMT,QAAQ,CAACG,IAAI,CAAC,CAAC;;QAExC;QACA,MAAMO,kBAAiB,GAAID,UAAU,CAACE,MAAM,CAACC,SAAQ,IAAKA,SAAS,CAACC,eAAc,KAAMT,KAAK,CAAC;QAE9F,OAAO;UAAEjB,IAAI,EAAEqB,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;UAAEN,UAAU,EAAEC;QAAmB,CAAC;MACzE,CAAC,CAAC;MAEF,MAAMjB,UAAS,GAAI,MAAMuB,OAAO,CAACC,GAAG,CAACX,iBAAiB,CAAC;MACvD;MACA,OAAOb,UAAU,CAACkB,MAAM,CAACO,SAAQ,IAAKA,SAAQ,IAAKA,SAAS,CAACT,UAAU,CAACU,MAAK,GAAI,CAAC,CAAC;IACvF;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}